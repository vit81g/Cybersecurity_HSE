# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ5  
## –ü—Ä–æ—Ç–æ–∫–æ–ª LDAP. –†–∞–±–æ—Ç–∞ —Å LDAP Admin –∏ OpenLDAP  
**–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞:** –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –∑–∞—â–∏—Ç—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏  
**–í–®–≠, 2025**

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
HomeWorks/
‚îî‚îÄ‚îÄ PKI/
    ‚îî‚îÄ‚îÄ LAB05/
        ‚îú‚îÄ‚îÄ pics/          # –°–∫—Ä–∏–Ω—à–æ—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
        ‚îÇ   ‚îú‚îÄ‚îÄ ldap_admin.jpg
        ‚îÇ   ‚îî‚îÄ‚îÄ ldapsearch.jpg
        ‚îÇ
        ‚îú‚îÄ‚îÄ scripts/       # –í—ã–≥—Ä—É–∑–∫–∏ –∏ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è ldapsearch
        ‚îÇ   ‚îú‚îÄ‚îÄ users_info.txt
        ‚îÇ   ‚îú‚îÄ‚îÄ command.txt
        ‚îÇ   ‚îú‚îÄ‚îÄ pki_system_working_final.py
        ‚îÇ   ‚îî‚îÄ‚îÄ openssl.cnf
        ‚îÇ
        ‚îî‚îÄ‚îÄ task/
            ‚îî‚îÄ‚îÄ –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 5, –∏–∑–º.1 (2023).pdf
```

---

# –ß–∞—Å—Ç—å 1. –†–∞–±–æ—Ç–∞ —Å LDAP Admin

<img src="pics/ldap_admin.jpg" width="600"/>

–î–ª—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞ —Å –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º LDAP –±—ã–ª –≤—ã–ø–æ–ª–Ω–µ–Ω –≤—Ö–æ–¥ –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–æ–º–µ–Ω–∞ Windows Server 2019 —Å –ø–æ–º–æ—â—å—é GUI-–∫–ª–∏–µ–Ω—Ç–∞ **LDAP Admin**.

### **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**
- **Host:** `192.168.99.5`  
- **Port:** `389`  
- **Base DN:** `DC=demo,DC=lab`  
- **Bind DN:** `Administrator@demo.lab`  
  –∏–ª–∏  
  `demo\Administrator`
- **Auth:** Simple bind (LDAP v3)

### **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ AD;
- –∏–∑—É—á–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–∞:
  - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (CN=Users)
  - –∫–æ–º–ø—å—é—Ç–µ—Ä—ã (OU=Computers)
  - –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –¥–æ–º–µ–Ω–∞ (OU=Domain Controllers)
- –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω—ã –∞—Ç—Ä–∏–±—É—Ç—ã –æ–±—ä–µ–∫—Ç–æ–≤:
  - `cn`
  - `sAMAccountName`
  - `userPrincipalName`
  - `memberOf`
  - `objectGUID`
  - `operatingSystem` (–¥–ª—è –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤)

---

# –ß–∞—Å—Ç—å 2. –†–∞–±–æ—Ç–∞ —Å OpenLDAP (–∫–æ–Ω—Å–æ–ª—å)

<img src="pics/ldapsearch.jpg" width="600"/>

–ö–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å —Å –∫–ª–∏–µ–Ω—Ç–∞ Windows 10, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω OpenLDAP 2.6.9.

## üîπ **1. –ù–µ–≤–µ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**

```bash
ldapsearch -x -H "ldap://192.168.2.200:38938" -b "DC=demo,DC=lab" -D Administrator -w xxXX1234 "(CN=K*)" DN
```

–û—à–∏–±–∫–∞: `Can't contact LDAP server (-1)`  
–ü—Ä–∏—á–∏–Ω–∞ ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π –ø–æ—Ä—Ç (38938).

---

## üîπ **2. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**

```bash
ldapsearch -x -H "ldap://192.168.99.5:389"   -D "demo\Administrator"   -w xxXX1234   -b "DC=demo,DC=lab" "(objectClass=user)"
```

---

## üîπ **3. –í—ã–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**

```bash
ldapsearch -x -H "ldap://192.168.99.5:389"   -D "demo\Administrator"   -w xxXX1234   -b "DC=demo,DC=lab" "(objectClass=user)" > users.ldif
```

–§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ `scripts/users_info.txt`.

---

# ‚úî –ò—Ç–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã

| –ß–∞—Å—Ç—å | –°—Ç–∞—Ç—É—Å |
|-------|--------|
| **1. LDAP Admin (GUI)** | –í—ã–ø–æ–ª–Ω–µ–Ω–æ |
| **2. OpenLDAP (CLI)** | –í—ã–ø–æ–ª–Ω–µ–Ω–æ |

---

# –ê–≤—Ç–æ—Ä  
**–§–ò–û:** Novikov V. S.   
**–ì—Ä—É–ø–ø–∞:** –ú–ö–ë241  
**–î–∞—Ç–∞:** 20.11.2025
