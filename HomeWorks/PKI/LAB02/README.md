# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ2 ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ PKCS#12 –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º–æ—Å—Ç–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞

**–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞:** –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è / –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ—Ç–µ–π –∏ —Å–∏—Å—Ç–µ–º  
**–ê–≤—Ç–æ—Ä:** Vitaliy Novikov, –≥—Ä—É–ø–ø–∞ –ú–ö–ë241  
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 16.10.2025  

---

## üéØ –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã

–ò–∑—É—á–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Ü–µ–ø–æ—á–∫–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä PKCS#12 (.p12) –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ Windows —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
PKI/
‚îî‚îÄ‚îÄ LAB02/
    ‚îú‚îÄ‚îÄ cert/                # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
    ‚îÇ    ‚îú‚îÄ‚îÄ groupmca.crt
    ‚îÇ    ‚îú‚îÄ‚îÄ rootca.crt
    ‚îÇ    ‚îú‚îÄ‚îÄ usercert.crt
    ‚îÇ    ‚îî‚îÄ‚îÄ final.p12
    ‚îÇ
    ‚îú‚îÄ‚îÄ conf/                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
    ‚îÇ    ‚îú‚îÄ‚îÄ do_it.bat
    ‚îÇ    ‚îú‚îÄ‚îÄ openssl.cnf
    ‚îÇ    ‚îî‚îÄ‚îÄ vm.txt
    ‚îÇ
    ‚îú‚îÄ‚îÄ screen/              # –°–∫—Ä–∏–Ω—à–æ—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
    ‚îÇ    ‚îî‚îÄ‚îÄ mmc.jpg
    ‚îÇ
    ‚îú‚îÄ‚îÄ task/                # –ú–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
    ‚îÇ    ‚îî‚îÄ‚îÄ –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 2 (2023).pdf
    ‚îÇ
    ‚îî‚îÄ‚îÄ README.md            # –û—Ç—á—ë—Ç –ø–æ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç–µ
```

---

## ‚öôÔ∏è –ò—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ –ü–û

- **OpenSSL 1.0.2j-FIPS (26 Sep 2016)** ‚Äî –≤–µ—Ä—Å–∏—è, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–∞—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–º  
- **Windows 10 / 11**
- **certutil** (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ Windows)
- **certmgr.msc / mmc** ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –∏ —ç–∫—Å–ø–æ—Ä—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

---

## üß© –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

1. –°–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ `PKI/LAB02`
2. –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã —Ñ–∞–π–ª—ã –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã (`LAB01`)
3. –í –Ω–∞—á–∞–ª–µ —Å–∫—Ä–∏–ø—Ç–∞ `do_it.bat` –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞ –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ OpenSSL:

```bat
set OPENSSL_CONF=%~dp0openssl.cnf
```

---

## üßæ –û—Å–Ω–æ–≤–Ω—ã–µ —à–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### 1Ô∏è‚É£ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ `do_it.bat`

–î–æ–±–∞–≤–ª–µ–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –õ–†-2:

- –†–∞–∑–º–µ—Ä –∫–ª—é—á–µ–π —É–≤–µ–ª–∏—á–µ–Ω –¥–æ **8192 –±–∏—Ç**
- –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–≤–∞ –ø–∞—Ä–æ–ª—è:
  - `PASS_KEY` ‚Äî –¥–ª—è –∑–∞–∫—Ä—ã—Ç—ã—Ö –∫–ª—é—á–µ–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
  - `PASS_PFX` ‚Äî –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ PKCS#12
- –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ —á–µ—Ä–µ–∑ `certutil`

–§—Ä–∞–≥–º–µ–Ω—Ç –∫–æ–¥–∞:

```bat
set PASS_KEY=HSEPassw0rd
set PASS_PFX=UserPass123
```

---

### 2Ô∏è‚É£ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ü–µ–ø–æ—á–∫–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

–°–æ–∑–¥–∞—ë—Ç—Å—è —Ç—Ä—ë—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Ü–µ–ø–æ—á–∫–∞:

1. **Root CA** ‚Äî HSE Root Certification Authority  
2. **Group CA** ‚Äî MKB241 Group Certification Authority  
3. **User Cert** ‚Äî Vitaliy Novikov  

–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª:

```cmd
type usercert.crt groupmca.crt rootca.crt > certs.crt
```

---

### 3Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ PKCS#12

–§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –≤–∫–ª—é—á–∞—é—â–∏–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á –∏ —Ü–µ–ø–æ—á–∫—É —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤:

```cmd
openssl pkcs12 -export -in certs.crt -inkey usercert.key -out final.p12 ^
 -passin pass:HSEPassw0rd -passout pass:UserPass123
```

---

### 4Ô∏è‚É£ –ò–º–ø–æ—Ä—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –≤ Windows

–ò–º–ø–æ—Ä—Ç –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (–ª–æ–∫–∞–ª—å–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä):

```cmd
certutil -f -p UserPass123 -importpfx final.p12
```

–ò–º–ø–æ—Ä—Ç –≤ –ª–∏—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```cmd
certutil -user -f -p UserPass123 -importpfx final.p12
```

---

### 5Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

#### üìç –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ MMC

1. `Win + R` ‚Üí `mmc`
2. –§–∞–π–ª ‚Üí –î–æ–±–∞–≤–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å –æ—Å–Ω–∞—Å—Ç–∫—É ‚Üí –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã ‚Üí –£—á—ë—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ ‚Üí –õ–æ–∫–∞–ª—å–Ω—ã–π –∫–æ–º–ø—å—é—Ç–µ—Ä  
3. –ü–µ—Ä–µ–π—Ç–∏ –≤ **–õ–∏—á–Ω–æ–µ ‚Üí –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã**
4. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç **Vitaliy Novikov**, —Ü–µ–ø–æ—á–∫–∞ –¥–æ **MKB241 ‚Üí HSE**

![–°–∫—Ä–∏–Ω—à–æ—Ç MMC](./screen/mmc.jpg)

#### üì∏ –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º–æ—Å—Ç–∏ –∫–ª—é—á–∞

1. –í —Å–≤–æ–π—Å—Ç–≤–∞—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –æ—Ç–∫—Ä—ã—Ç—å –≤–∫–ª–∞–¥–∫—É **–°–æ—Å—Ç–∞–≤ (Details)**  
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å **–ú–∞—Å—Ç–µ—Ä —ç–∫—Å–ø–æ—Ä—Ç–∞**  
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –æ–ø—Ü–∏–∏ **¬´–î–∞, —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–∫—Ä—ã—Ç—ã–π –∫–ª—é—á¬ª**

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

- –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä **final.p12**
- –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –≤ —Å–∏—Å—Ç–µ–º—É –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –æ—Å–Ω–∞—Å—Ç–∫–µ MMC
- –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–π (–ø–æ –∑–∞–¥–∞–Ω–∏—é –õ–†-2)
- –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

---

## üìö –ê–≤—Ç–æ—Ä

**Vitaliy Novikov**  
–ù–ò–£ –í–®–≠, –≥—Ä—É–ø–ø–∞ –ú–ö–ë241  
2025 –≥.
