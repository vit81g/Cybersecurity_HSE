# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ4 ‚Äî –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏ –≠–ü (PKI, OpenSSL)

## üìò –û–ø–∏—Å–∞–Ω–∏–µ
–†–∞–±–æ—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤ —Ä–∞–º–∫–∞—Ö –∫—É—Ä—Å–∞ **¬´–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –∫–ª—é—á–µ–π (PKI)¬ª**.  
–¶–µ–ª—å ‚Äî –∑–∞–∫—Ä–µ–ø–∏—Ç—å –Ω–∞–≤—ã–∫–∏ —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏ X.509 –∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ–¥–ø–∏—Å—å—é —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º OpenSSL.

–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π:
1. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è** –≤ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç X.509 (`Profession`).
2. **–°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ–¥–ø–∏—Å–∏** —Ñ–∞–π–ª–∞.

---

## üß© –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
PKI/LAB04/
‚îú‚îÄ‚îÄ script/
‚îÇ   ‚îú‚îÄ‚îÄ do_it.bat          # –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ü–µ–ø–æ—á–∫–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ do_it_l4.bat       # –≤–∞—Ä–∏–∞–Ω—Ç —Å —É–∫–∞–∑–∞–Ω–∏–µ–º HSE/MKB241/Vitaliy Novikov
‚îÇ   ‚îú‚îÄ‚îÄ openssl.cnf        # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª OpenSSL —Å –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º
‚îÇ   ‚îú‚îÄ‚îÄ novikov.txt        # —Ñ–∞–π–ª –¥–ª—è –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ screens/
‚îÇ   ‚îú‚îÄ‚îÄ cert04.jpg         # —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å –ø–æ–ª–µ–º 1.2.3.412 (Profession)
‚îÇ   ‚îî‚îÄ‚îÄ sign.jpg           # –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ (Verified OK / Verification Failure)
‚îÇ
‚îî‚îÄ‚îÄ task/
    ‚îî‚îÄ‚îÄ –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 4 (2023).pdf
```

---

## üß± –ß–∞—Å—Ç—å 1 ‚Äî –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ X.509

–í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª `openssl.cnf` –≤ —Å–µ–∫—Ü–∏—é `[ usr_cert ]` –¥–æ–±–∞–≤–ª–µ–Ω–æ:

```ini
1.2.3.412=critical,ASN1:UTF8String:Cybersecurity Specialist
```

–≠—Ç–æ —Å–æ–∑–¥–∞–µ—Ç **–∫–∞—Å—Ç–æ–º–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ Profession**, –¥–æ–±–∞–≤–ª—è—é—â–µ–µ –≤ `usercert.crt` –ø–æ–ª–µ:

```
1.2.3.412: critical
    Cybersecurity Specialist
```

**–°–∫—Ä–∏–Ω—à–æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:**  
üìé `screens/cert04.jpg`

---

## üßæ –ß–∞—Å—Ç—å 2 ‚Äî –ü–æ–¥–ø–∏—Å—å –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–∞

–§–∞–π–ª `novikov.txt` –±—ã–ª –ø–æ–¥–ø–∏—Å–∞–Ω –ª–∏—á–Ω—ã–º –∫–ª—é—á–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω —Å –ø–æ–º–æ—â—å—é –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –∫–ª—é—á–∞.

### üîπ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥

```bash
openssl dgst -sign usercert.key -passin pass:"HSEPassw0rd" -sha256 -out novikov.txt.sig -binary novikov.txt
openssl x509 -inform PEM -in usercert.crt > usercert.pem
openssl x509 -in usercert.pem -noout -pubkey > pubkey.usercert.pem
openssl dgst -verify pubkey.usercert.pem -sha256 -signature novikov.txt.sig -binary novikov.txt
# ‚Üí Verified OK

# –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ novikov.txt (–¥–æ–±–∞–≤–ª–µ–Ω —Å–∏–º–≤–æ–ª)
openssl dgst -verify pubkey.usercert.pem -sha256 -signature novikov.txt.sig -binary novikov.txt
# ‚Üí Verification Failure
```

**–°–∫—Ä–∏–Ω—à–æ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**  
üìé `screens/sign.jpg`

---

## ‚öôÔ∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- **OpenSSL 1.1.1g Win64 for ICS**
- –°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: Windows 10 x64
- –ö–æ–¥–∏—Ä–æ–≤–∫–∞: `chcp 1251`
- –ö–ª—é—á–µ–≤–∞—è –¥–ª–∏–Ω–∞: 8192 bit RSA

---

## üìÑ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

| –≠—Ç–∞–ø | –†–µ–∑—É–ª—å—Ç–∞—Ç | –ë–∞–ª–ª—ã |
|------|------------|--------|
| –ß–∞—Å—Ç—å 1 ‚Äî custom extension | –ü–æ–ª–µ `1.2.3.412` –¥–æ–±–∞–≤–ª–µ–Ω–æ, –≤–∏–¥–Ω–æ –≤ cert04.jpg | 3 |
| –ß–∞—Å—Ç—å 2 ‚Äî –ø–æ–¥–ø–∏—Å—å –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ | –ü–æ–¥–ø–∏—Å—å —Å–æ–∑–¥–∞–Ω–∞ –∏ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞ (Verified OK / Failure) | 3 |
| **–ò—Ç–æ–≥** | –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é | **6 / 6** |

---

## üë§ –ê–≤—Ç–æ—Ä
**–í–∏—Ç–∞–ª–∏–π –ù–æ–≤–∏–∫–æ–≤**  
–ì—Ä—É–ø–ø–∞: **–ú–ö–ë241**  
–ù–ò–£ –í–®–≠ ‚Äî –ú–ò–≠–ú  
2025 –≥–æ–¥
